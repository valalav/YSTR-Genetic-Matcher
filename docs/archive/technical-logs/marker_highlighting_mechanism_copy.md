## Основная концепция

Механизм цветового выделения маркеров служит для **визуальной идентификации генетической значимости** в таблице сравнения ДНК-профилей. Он работает на двух уровнях:

### 1. **Цветовое кодирование редкости маркера** (фон ячейки)
- **Смысл**: Чем реже встречается определённое значение маркера в популяции, тем оно более информативно для установления родства
- **Логика**: Редкие маркеры (частота <4%) выделяются ярко-красным, а распространённые (20-33%) - светло-розовым
- **Практическое значение**: Совпадение по редким маркерам имеет больший вес при определении родства, чем совпадение по распространённым

### 2. **Цветовое кодирование разницы значений** (цвет текста)
- **Смысл**: Показывает генетическую дистанцию между сравниваемыми профилями
- **Логика**: 
  - Разница в 1 шаг = светло-синий (близкое родство)
  - Разница в 2 шага = синий (умеренная дистанция)
  - Разница в 3+ шага = тёмно-синий (значительная дистанция)
- **Практическое значение**: Помогает быстро оценить степень расхождения между профилями

## Архитектурная реализация

Механизм реализован через связку компонентов:

1. **`MatchesTable.tsx`** - основной компонент таблицы, который:
   - Вызывает функции расчёта редкости и разницы
   - Применяет CSS-классы к ячейкам
   - Отображает значения с соответствующей стилизацией

2. **Вычислительные утилиты** (`calculateMarkerRarity`, `calculateMarkerDifference`):
   - Анализируют частоту встречаемости маркера в выборке
   - Вычисляют математическую разницу между значениями
   - Учитывают особенности палиндромных маркеров

3. **CSS-стилизация** (`DataRepositories.css`):
   - Определяет цветовую палитру для каждого уровня редкости
   - Задаёт стили для отображения разницы значений

## Биологический смысл

Этот механизм визуализирует два ключевых принципа генетической генеалогии:

1. **Информативность маркера**: Редкие аллели (варианты генов) несут больше информации о происхождении, так как вероятность случайного совпадения ниже

2. **Генетическое расстояние**: Количество мутационных шагов между значениями маркеров отражает временную дистанцию от общего предка

Таким образом, механизм позволяет исследователю быстро визуально оценить:
- Какие совпадения наиболее значимы (по редким маркерам)
- Насколько близки или далеки сравниваемые профили (по количеству различий)

Это критически важно для эффективного анализа больших массивов генетических данных при поиске родственных связей.