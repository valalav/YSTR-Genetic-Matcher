# YSTR Matcher v2.0 - –£—Å–∫–æ—Ä–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è Y-STR –º–∞—Ä–∫–µ—Ä–æ–≤

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è Y-STR –º–∞—Ä–∫–µ—Ä–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ 100-200 —Ç—ã—Å—è—á –æ–±—Ä–∞–∑—Ü–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üìö –í–∞–∂–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ HTTP 400 –≤ Backend API](docs/API-ERROR-400-FIX.md)** - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Joi –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ undefined –ø–æ–ª—è–º–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- **[–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–∞–Ω–µ–ª—è–º –º–∞—Ä–∫–µ—Ä–æ–≤](docs/MARKER-PANEL-FILTERING.md)** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–±–ª–µ–º—ã —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ –∑–∞–≤—ã—à–µ–Ω–Ω—ã–º –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–µ–π —Å –º–µ–Ω—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –º–∞—Ä–∫–µ—Ä–æ–≤

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **PostgreSQL** —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–Ω–¥–µ–∫—Å–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **CUDA-—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–π** –ø—Ä–µ–¥–∏–∫—Ç–æ—Ä –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø —Å –º–∞—à–∏–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏–µ–º
- **Redis** –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** frontend –¥–ª—è –ø–ª–∞–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏
- **–ë–∞—Ç—á–µ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Å –æ—á–µ—Ä–µ–¥—è–º–∏ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

### üß¨ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ 200,000 –ø—Ä–æ—Ñ–∏–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø –Ω–∞ –æ—Å–Ω–æ–≤–µ ML –º–æ–¥–µ–ª–µ–π
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø–∞–º
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö
- –†–µ–∞–ª-—Ç–∞–π–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üî¨ CUDA ML Predictor
- –ê–Ω—Å–∞–º–±–ª—å –∏–∑ CNN, XGBoost –∏ LightGBM –º–æ–¥–µ–ª–µ–π
- –ú–µ—Ö–∞–Ω–∏–∑–º –≤–Ω–∏–º–∞–Ω–∏—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ –º–∞—Ä–∫–µ—Ä–æ–≤
- GPU —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ inference
- Confidence scoring –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend v2   ‚îÇ    ‚îÇ   Backend API   ‚îÇ    ‚îÇ   CUDA Service  ‚îÇ
‚îÇ   (Next.js)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Express)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (FastAPI)     ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Zustand Store ‚îÇ    ‚îÇ ‚Ä¢ PostgreSQL    ‚îÇ    ‚îÇ ‚Ä¢ PyTorch       ‚îÇ
‚îÇ ‚Ä¢ React Query   ‚îÇ    ‚îÇ ‚Ä¢ Redis Cache   ‚îÇ    ‚îÇ ‚Ä¢ GPU Models    ‚îÇ
‚îÇ ‚Ä¢ Virtualization‚îÇ    ‚îÇ ‚Ä¢ Bull Queue    ‚îÇ    ‚îÇ ‚Ä¢ ML Pipeline   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ   PostgreSQL    ‚îÇ
                        ‚îÇ                 ‚îÇ
                        ‚îÇ ‚Ä¢ Optimized     ‚îÇ
                        ‚îÇ   Indexes       ‚îÇ
                        ‚îÇ ‚Ä¢ Partitioning  ‚îÇ
                        ‚îÇ ‚Ä¢ Batch Funcs   ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **CPU**: 8+ —è–¥–µ—Ä
- **RAM**: 16GB
- **GPU**: NVIDIA GTX 1660 –∏–ª–∏ –≤—ã—à–µ (4GB VRAM)
- **–î–∏—Å–∫**: 500GB SSD
- **–û–°**: Ubuntu 20.04+ / Windows 10+ / macOS 12+

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **CPU**: 16+ —è–¥–µ—Ä (Intel i9 / AMD Ryzen 9)
- **RAM**: 64GB
- **GPU**: NVIDIA RTX 3080 –∏–ª–∏ –≤—ã—à–µ (10GB+ VRAM)
- **–î–∏—Å–∫**: 2TB NVMe SSD
- **–°–µ—Ç—å**: Gigabit Ethernet

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone https://github.com/your-org/DNA-utils-universal.git
cd DNA-utils-universal
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL 15+
sudo apt update
sudo apt install postgresql-15 postgresql-contrib-15

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres createdb ystr_matcher
sudo -u postgres psql -d ystr_matcher -f database/schema.sql

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
sudo nano /etc/postgresql/15/main/postgresql.conf
```

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `postgresql.conf`:
```ini
# –ü–∞–º—è—Ç—å
shared_buffers = 8GB                    # 25% –æ—Ç RAM
effective_cache_size = 24GB             # 75% –æ—Ç RAM
work_mem = 256MB
maintenance_work_mem = 2GB

# –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
max_worker_processes = 16
max_parallel_workers = 16
max_parallel_workers_per_gather = 8

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
log_min_duration_statement = 1000       # –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
log_line_prefix = '%t [%p]: [%l-1] user=%u,db=%d,app=%a,client=%h '
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Redis
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis
sudo apt install redis-server

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
sudo nano /etc/redis/redis.conf
```

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è `redis.conf`:
```ini
maxmemory 8gb
maxmemory-policy allkeys-lru
save 900 1
save 300 10
save 60 10000
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CUDA –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ NVIDIA –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –∏ CUDA 11.8+
sudo apt install nvidia-driver-520
wget https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda_11.8.0_520.61.05_linux.run
sudo sh cuda_11.8.0_520.61.05_linux.run

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
nvidia-smi
nvcc --version
```

### 5. Backend —Å–µ—Ä–≤–∏—Å
```bash
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
nano .env
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env`:
```env
# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ystr_matcher
DB_USER=postgres
DB_PASSWORD=your_secure_password
DB_MAX_CONNECTIONS=50

# Redis
REDIS_URL=redis://localhost:6379

# Server
PORT=9004
NODE_ENV=production
CORS_ORIGIN=https://your-domain.com

# Performance
WORKER_CONCURRENCY=8
BATCH_SIZE=2000
MAX_PROFILES_PER_BATCH=50000
```

### 6. CUDA Predictor Service
```bash
cd cuda-predictor

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
mkdir -p models/v2.1
# –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª–∏ —Å –≤–∞—à–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
wget https://your-models-storage.com/ystr-models-v2.1.tar.gz
tar -xzf ystr-models-v2.1.tar.gz -C models/v2.1/

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
nano .env
```

### 7. Frontend v2
```bash
cd frontend-v2

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.local.example .env.local
nano .env.local
```

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:9004/api
NEXT_PUBLIC_CUDA_SERVICE_URL=http://localhost:8080
NEXT_PUBLIC_MAX_UPLOAD_SIZE=104857600
```

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### Development —Ä–µ–∂–∏–º
```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: Backend
cd backend
npm run dev

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: CUDA Service
cd cuda-predictor
source venv/bin/activate
python main.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 3: Frontend
cd frontend-v2
npm run dev
```

### Production —Ä–µ–∂–∏–º
```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —Å PM2
npm install -g pm2

# Backend
cd backend
npm run build
pm2 start ecosystem.config.js

# CUDA Service
cd cuda-predictor
pm2 start --name cuda-predictor --interpreter python3 main.py

# Frontend
cd frontend-v2
npm run build
pm2 start --name frontend "npm start"
```

### Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã
docker-compose up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
docker-compose logs -f

# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
docker-compose up -d --scale backend=3 --scale cuda-predictor=2
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Prometheus –º–µ—Ç—Ä–∏–∫–∏
- –î–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ `http://localhost:9004/metrics`
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞

### Health checks
```bash
# Backend health
curl http://localhost:9004/health

# CUDA service health
curl http://localhost:8080/health

# Detailed system health
curl http://localhost:9004/api/admin/health-detailed
```

### Grafana Dashboard
–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ dashboard –∏–∑ `monitoring/grafana-dashboard.json` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ç—Ä–∏–∫.

## üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

#### PostgreSQL –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
CREATE INDEX CONCURRENTLY idx_ystr_markers_specific ON ystr_profiles
USING GIN ((markers->'DYS393'), (markers->'DYS390'), (markers->'DYS19'));

-- –ü–∞—Ä—Ç–∏—Ü–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø–∞–º (–¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö –ë–î)
CREATE TABLE ystr_profiles_r1a PARTITION OF ystr_profiles
    FOR VALUES IN ('R1a', 'R1a1a', 'R1a1a1');
```

#### GPU –ø–∞–º—è—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```python
# –í cuda-predictor/main.py
torch.cuda.empty_cache()  # –û—á–∏—Å—Ç–∫–∞ GPU –ø–∞–º—è—Ç–∏
torch.backends.cudnn.benchmark = True  # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤—Ö–æ–¥–æ–≤
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# GPU utilization
nvidia-smi -l 1

# Database performance
sudo -u postgres psql -d ystr_matcher -c "
SELECT query, mean_exec_time, calls
FROM pg_stat_statements
ORDER BY mean_exec_time DESC LIMIT 10;"

# Redis performance
redis-cli info stats
```

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Backend**: –ù–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –∑–∞ load balancer
- **CUDA Service**: –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ GPU —Å–µ—Ä–≤–µ—Ä–æ–≤
- **Database**: Read replicas –¥–ª—è —á—Ç–µ–Ω–∏—è
- **Redis**: Cluster mode –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫—ç—à–µ–π

### –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Database**: –£–≤–µ–ª–∏—á–µ–Ω–∏–µ RAM –∏ CPU
- **GPU**: –ë–æ–ª–µ–µ –º–æ—â–Ω—ã–µ GPU (RTX 4090, A100)
- **Storage**: NVMe RAID –¥–ª—è –≤—ã—Å–æ–∫–æ–≥–æ IOPS

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ JWT –≤ backend/.env
JWT_SECRET=your-256-bit-secret
JWT_EXPIRES_IN=24h

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
```

### SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
```nginx
# Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
server {
    listen 443 ssl http2;
    ssl_certificate /path/to/certificate.crt;
    ssl_certificate_key /path/to/private.key;

    location /api/ {
        proxy_pass http://localhost:9004/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ k6
sudo apt install k6

# –ó–∞–ø—É—Å–∫ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
k6 run tests/load-test.js
```

### –Æ–Ω–∏—Ç —Ç–µ—Å—Ç—ã
```bash
# Backend —Ç–µ—Å—Ç—ã
cd backend
npm test

# Frontend —Ç–µ—Å—Ç—ã
cd frontend-v2
npm test

# CUDA service —Ç–µ—Å—Ç—ã
cd cuda-predictor
pytest tests/
```

## üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

#### –ü–æ–∏—Å–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
```http
POST /api/profiles/find-matches
Content-Type: application/json

{
  "markers": {
    "DYS393": "13",
    "DYS390": "24",
    "DYS19": "14"
  },
  "maxDistance": 25,
  "maxResults": 1000,
  "markerCount": 37,
  "haplogroupFilter": "R1a",
  "includeSubclades": true
}
```

#### –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π
```http
POST /api/profiles/upload
Content-Type: multipart/form-data

file: profiles.csv (up to 100MB)
```

#### –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≥–∞–ø–ª–æ–≥—Ä—É–ø–ø—ã
```http
POST /api/haplogroups/predict
Content-Type: application/json

{
  "markers": [13, 24, 14, 11, 14, 14, 12, 12, 13, 13, 14, 29, 18, 9, 10, 11, 11, 26, 14, 20, 32, 12, 15, 15, 16, 12, 25, 20, 13, 12, 11, 13, 11, 11, 12, 12],
  "method": "cuda_ml",
  "minConfidence": 0.7
}
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### GPU –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ CUDA
nvidia-smi
nvcc --version

# –ü—Ä–æ–≤–µ—Ä–∫–∞ PyTorch CUDA
python -c "import torch; print(torch.cuda.is_available())"
```

#### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
```sql
-- –ê–Ω–∞–ª–∏–∑ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
SELECT query, mean_exec_time, calls, total_exec_time
FROM pg_stat_statements
WHERE mean_exec_time > 1000
ORDER BY mean_exec_time DESC;

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
ANALYZE ystr_profiles;
```

#### –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
htop
free -h

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–µ–π
echo 3 | sudo tee /proc/sys/vm/drop_caches
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –õ–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã
```bash
# Backend –ª–æ–≥–∏
pm2 logs backend

# CUDA service –ª–æ–≥–∏
pm2 logs cuda-predictor

# PostgreSQL –ª–æ–≥–∏
sudo tail -f /var/log/postgresql/postgresql-15-main.log

# Redis –ª–æ–≥–∏
sudo tail -f /var/log/redis/redis-server.log
```

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **GitHub Issues**: [https://github.com/your-org/DNA-utils-universal/issues](https://github.com/your-org/DNA-utils-universal/issues)
- **Email**: support@your-domain.com
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [https://docs.your-domain.com](https://docs.your-domain.com)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

**YSTR Matcher v2.0** - –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≥–µ–Ω–µ—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π Y-—Ö—Ä–æ–º–æ—Å–æ–º—ã.